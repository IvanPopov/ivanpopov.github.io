{"version":3,"file":"part-view.e1646a3ac5d10b222547.js","mappings":"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","sources":["webpack://influx/./src/lib/common.ts","webpack://influx/./src/sandbox/containers/PartView.tsx","webpack://influx/./src/sandbox/part-view.tsx"],"sourcesContent":["import { isEqual } from \"./bf/bf\";\r\nimport { IMap } from \"./idl/IMap\";\r\n\r\nexport let typeOf: (x: any) => string = (x: any): string => {\r\n    const s: string = typeof x;\r\n\r\n    if (s === 'object') {\r\n        if (x) {\r\n            if (x instanceof Array) {\r\n                return 'array';\r\n            } else if (x instanceof Object) {\r\n                return s;\r\n            }\r\n\r\n            const sClassName: string = Object.prototype.toString.call(x);\r\n\r\n            if (sClassName === '[object Window]') {\r\n                return 'object';\r\n            }\r\n\r\n            if ((sClassName === '[object Array]' ||\r\n                (typeof x.length) === 'number' &&\r\n                (typeof x.splice) !== 'undefined' &&\r\n                (typeof x.propertyIsEnumerable) !== 'undefined' &&\r\n                !x.propertyIsEnumerable('splice')\r\n\r\n            )) {\r\n                return 'array';\r\n            }\r\n\r\n            if ((sClassName === '[object Function]' ||\r\n                (typeof x.call) !== 'undefined' &&\r\n                (typeof x.propertyIsEnumerable) !== 'undefined' &&\r\n                !x.propertyIsEnumerable('call'))) {\r\n                return 'function';\r\n            }\r\n        } else {\r\n            return 'null';\r\n        }\r\n    } else if (s === 'function' && (typeof x.call) === 'undefined') {\r\n        return 'object';\r\n    }\r\n\r\n    return s;\r\n};\r\n\r\nexport let isDef = (x: any): boolean => x !== undefined;\r\nexport let isDefAndNotNull = (x: any): boolean => x != null;\r\nexport let isEmpty = (x: any): boolean => x.length === 0;\r\nexport let isNull = (x: any): boolean => x === null;\r\nexport let isBoolean = (x: any): boolean => typeof x === 'boolean';\r\nexport let isString = (x: any): boolean => typeof x === 'string';\r\nexport let isNumber = (x: any): boolean => typeof x === 'number';\r\nexport let isFloat = isNumber;\r\nexport let isInt = (x: any): boolean => isNumber(x) && (~~x === x);\r\nexport let isUint = (x: any): boolean => isInt(x) && x > 0;\r\nexport let isFunction = (x: any): boolean => typeOf(x) === 'function';\r\nexport let isObject = (x: any): boolean => {\r\n    const T: string = typeOf(x);\r\n    return T === 'object' || T === 'array' || T === 'function';\r\n};\r\nexport let isArrayBuffer = (x: any): boolean => x instanceof ArrayBuffer;\r\nexport let isTypedArray = (x: any): boolean => x !== null && typeof x === 'object' && typeof x.byteOffset === 'number';\r\nexport let isBlob = (x: any): boolean => x instanceof Blob;\r\nexport let isArray = (x: any): boolean => typeOf(x) === 'array';\r\n// export let assignIfDef = (val: any, def: any) => (isDef(val) ? val : def);\r\nexport let deepEqual = (a: Object, b: Object) => JSON.stringify(a) === JSON.stringify(b);\r\n\r\n\r\nexport type Nullable<T> = {[P in keyof T]: T[P] | null } | null;\r\nexport type Writeable<T> = { -readonly [P in keyof T]: T[P] };\r\nexport type FunctionPropertyNames<T> = { [K in keyof T]: T[K] extends Function ? K : never }[keyof T];\r\nexport type FunctionProperties<T> = Pick<T, FunctionPropertyNames<T>>;\r\nexport type NonFunctionPropertyNames<T> = { [K in keyof T]: T[K] extends Function ? never : K }[keyof T];\r\nexport type NonFunctionProperties<T> = Pick<T, NonFunctionPropertyNames<T>>;\r\n/** For ex: retrieve the properties of the child that the parent does not have. */\r\nexport type Diff<T1, T2> = Pick<T1, Exclude<keyof T1, keyof T2>>;\r\nexport type NonFunctionDiff<T1, T2> = NonFunctionProperties<Diff<T1, T2>>;\r\nexport type PropertiesDiff<T1, T2> = Writeable<NonFunctionDiff<T1, T2>>;\r\nexport type MakeOptional<T> = { [P in keyof T]?: T[P]; };\r\n\r\nexport const assert = console.assert.bind(console);\r\nexport const verbose = console.log.bind(console);\r\n\r\n/** 'ForEach' for maps. */\r\nexport function mwalk<T>(map: IMap<T>, cb: (element: T, key?: string, i?: number) => boolean | void) {\r\n    let i = 0;\r\n    for (const key in map) {\r\n        if (cb(map[key], key, i++) === false) {\r\n            break;\r\n        }\r\n    }\r\n}\r\n","import { isArray, isBoolean, isNumber } from '@lib/common';\r\nimport autobind from 'autobind-decorator';\r\nimport React from 'react';\r\nimport { Checkbox, Grid, Menu, Segment, Table, Input } from 'semantic-ui-react';\r\n\r\nconst style: React.CSSProperties = {\r\n    height: 'calc(100vh)',\r\n    width: 'calc(100vw)',\r\n    position: 'relative',\r\n    left: '0',\r\n    right: '0',\r\n    margin: '0',\r\n    background: 'rgba(255, 0, 0, 0.5)'\r\n};\r\n\r\nconst monofont: React.CSSProperties = {\r\n    fontFamily: 'consolas, monospace',\r\n    width: '100%'\r\n};\r\n\r\ninterface IProps { };\r\n\r\nfunction renderValue(value: any) {\r\n    if (isBoolean(value)) {\r\n        return value ? 'true' : 'false';\r\n    }\r\n    if (isArray(value)) {\r\n        return value.map(x => renderValue(x));\r\n    }\r\n    if (isNumber(value)) {\r\n        if (Number(value) !== Math.floor(value))\r\n            return (<span> {Number(value).toFixed(2)}</span>);\r\n    }\r\n    return value;\r\n}\r\n\r\nfunction sortByColumn(data, column) {\r\n    if (!column) return data;\r\n    return data.sort((a, b) => {\r\n        if (a[column] < b[column]) {\r\n            return -1;\r\n        }\r\n        if (a[column] > b[column]) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    });\r\n}\r\n\r\nfunction reducer(state, action) {\r\n    switch (action.type) {\r\n        case 'CHANGE_SORT':\r\n            if (state.column === action.column) {\r\n                return {\r\n                    ...state,\r\n                    data: state.data.slice().reverse(),\r\n                    direction:\r\n                        state.direction === 'ascending' ? 'descending' : 'ascending',\r\n                }\r\n            }\r\n\r\n            return {\r\n                column: action.column,\r\n                // data: _.sortBy(state.data, [action.column]),\r\n                data: state.data.sort((a, b) => {\r\n                    if (a[action.column] < b[action.column]) {\r\n                        return -1;\r\n                    }\r\n                    if (a[action.column] > b[action.column]) {\r\n                        return 1;\r\n                    }\r\n                    return 0;\r\n                }),\r\n                direction: 'ascending',\r\n            }\r\n        default:\r\n            throw new Error()\r\n    }\r\n}\r\n\r\nclass TableSortable extends React.Component<{ tableData: Array<Object> }> {\r\n    state;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            column: null,\r\n            data: props.tableData,\r\n            direction: null,\r\n            counter: 0\r\n        };\r\n    }\r\n\r\n    reduce(action) {\r\n        this.setState(reducer(this.state, action));\r\n    }\r\n\r\n    // shouldComponentUpdate(nextProps: Readonly<{ tableData: Array<Object>; }>, nextState: Readonly<{}>, nextContext: any): boolean {\r\n    //     console.log('yeah!');\r\n    //     return true;\r\n    // }\r\n\r\n    // componentDidUpdate() {\r\n    //     this.setState({ ...this.state });\r\n    // }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        return { ...state, data: sortByColumn(props.tableData, state.column) };\r\n    }\r\n\r\n    render() {\r\n        const { column, data, direction } = this.state\r\n\r\n        if (!data) {\r\n            return null;\r\n        }\r\n\r\n        const columns = Object.keys(data[0]);\r\n        return (\r\n            <Table attached='bottom' sortable celled fixed compact unstackable style={monofont}>\r\n                <Table.Header>\r\n                    <Table.Row>\r\n                        {columns.map(name =>\r\n                            <Table.HeaderCell\r\n                                sorted={column === name ? direction : null}\r\n                                onClick={() => this.reduce({ type: 'CHANGE_SORT', column: name })} >\r\n                                {name}\r\n                            </Table.HeaderCell>)}\r\n                    </Table.Row>\r\n                </Table.Header>\r\n                <Table.Body>\r\n                    {\r\n                        data.map(part =>\r\n                            <Table.Row>\r\n                                {columns.map(name => <Table.Cell>{renderValue(part[name])}</Table.Cell>)}\r\n                            </Table.Row>)\r\n                    }\r\n                </Table.Body>\r\n            </Table>\r\n        );\r\n    }\r\n}\r\n\r\nclass PartView extends React.Component<IProps> {\r\n\r\n    bc: BroadcastChannel = new BroadcastChannel(PartView.CHANNEL);\r\n    particles: Array<Object> = null;\r\n    updateInterval = null;\r\n\r\n    state: {\r\n        autoUpdate: boolean,\r\n        updateInterval: number\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.bc.onmessage = (event) => this.updateContent(event.data);\r\n        window.addEventListener('beforeunload', this.disconnected);\r\n\r\n        this.state = {\r\n            autoUpdate: false,\r\n            updateInterval: 100\r\n        };\r\n\r\n        this.setAutoUpdate(this.state.autoUpdate, this.state.updateInterval);\r\n    }\r\n\r\n    @autobind\r\n    requestUpdate() {\r\n        this.bc.postMessage(PartView.UPDATE_EVENT);\r\n    }\r\n\r\n    @autobind\r\n    connected() {\r\n        this.bc.postMessage(PartView.CONNECT_EVENT);\r\n    }\r\n\r\n    @autobind\r\n    disconnected() {\r\n        this.bc.postMessage(PartView.DISCONNECT_EVENT);\r\n    }\r\n\r\n    updateContent(particles: Array<Object>) {\r\n        this.particles = particles;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    componentDidMount(): void {\r\n        this.connected();\r\n    }\r\n\r\n    componentWillUnmount(): void {\r\n        this.disconnected()\r\n    }\r\n\r\n    setAutoUpdate(isset: boolean, int: number) {\r\n        if (!isset) {\r\n            clearInterval(this.updateInterval);\r\n            this.updateInterval = null;\r\n        } else {\r\n            this.updateInterval = setInterval(this.requestUpdate, int);\r\n        }\r\n    }\r\n\r\n    onAutoUpdate(isset: boolean) {\r\n        this.setAutoUpdate(isset, this.state.updateInterval);\r\n        this.setState({ autoUpdate: isset })\r\n    }\r\n\r\n    onIntervalUpdate(int: number) {\r\n        this.setAutoUpdate(this.state.autoUpdate, int);\r\n        this.setState({ updateInterval: int });\r\n    }\r\n\r\n    render() {\r\n        if (!isArray(this.particles) || !this.particles.length) {\r\n            return (<div style={style}>No data has been provided.</div>);\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Menu attached='top' size='tiny' style={{ width: '100%' }}>\r\n                    <Menu.Item>\r\n                        <Checkbox checked={this.state.autoUpdate} label='Update&nbsp;every' onChange={(e, data) => this.onAutoUpdate(data.checked)} />\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <Input defaultValue={this.state.updateInterval} onChange={(e, data) => this.onIntervalUpdate(Number(data.value))} />\r\n                        &nbsp;ms\r\n                    </Menu.Item>\r\n                </Menu>\r\n\r\n                <TableSortable tableData={this.particles} />\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n    static CHANNEL = 'part-view-debugger';\r\n    static CONNECT_EVENT = 'connected';\r\n    static DISCONNECT_EVENT = 'disconnected';\r\n    static UPDATE_EVENT = 'update';\r\n}\r\n\r\nexport default PartView;\r\n","import PartView from '@sandbox/containers/PartView';\r\nimport * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\n\r\nrequire('semantic-ui-less/semantic.less');\r\n\r\nReactDOM.render(\r\n    <PartView />,\r\n    document.getElementById('app')\r\n);\r\n\r\n"],"names":[],"sourceRoot":""}